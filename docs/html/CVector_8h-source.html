<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>MarSTDv2004: CVector.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.1 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<div class="nav">
<a class="el" href="dir_000000.html">marstd2</a></div>
<h1>CVector.h</h1><a href="CVector_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment">00001 <span class="preprocessor">#ifndef __cVECTOR_h__</span>
00002 <span class="preprocessor"></span><span class="preprocessor">#define __cVECTOR_h__</span>
00003 <span class="preprocessor"></span>
00005 <span class="comment">// MarSTD version 2004 - (c)2004 - Marcel Smit                      //</span>
00006 <span class="comment">//                                                                  //</span>
00007 <span class="comment">// Marcel_Smit_101@hotmail.com                                      //</span>
00008 <span class="comment">// marcel.athlon@hccnet.nl                                          //</span>
00009 <span class="comment">//                                                                  //</span>
00010 <span class="comment">// This code may not be used in a commercial product without my     //</span>
00011 <span class="comment">// permission. If you redistribute it, this message must remain     //</span>
00012 <span class="comment">// intact. If you use this code, some acknowledgement would be      //</span>
00013 <span class="comment">// appreciated. ;-)                                                 //</span>
00015 <span class="comment"></span>
00017 
00018 
00019 
00020 <span class="preprocessor">#include &lt;math.h&gt;</span>
00021 <span class="preprocessor">#include "CDebug.h"</span>
00022 
00023 <span class="comment">//---------------------------------------------------------------------------</span>
00024 
00026 
<a name="l00045"></a><a class="code" href="classCVector.html">00045</a> <span class="keyword">class </span><a class="code" href="classCVector.html">CVector</a>
00046 {
00047 
00048     <span class="keyword">public</span>:
00049 
<a name="l00053"></a><a class="code" href="classCVector.html#CVectora0">00053</a>         <a class="code" href="classCVector.html#CVectora0">CVector</a>()
00054     {
00055                 v[0] = v[1] = v[2] = 0.0;
00056         }
00057         
<a name="l00061"></a><a class="code" href="classCVector.html#CVectora1">00061</a>         <a class="code" href="classCVector.html#CVectora0">CVector</a>(<span class="keywordtype">float</span> x, <span class="keywordtype">float</span> y, <span class="keywordtype">float</span> z)
00062     {
00063                 v[0] = x;
00064                 v[1] = y;
00065                 v[2] = z;
00066         }
00067         ~<a class="code" href="classCVector.html">CVector</a>()
00068     {
00069     
00070         }
00071         
00072     <span class="keyword">public</span>:
00073  
00074     <span class="keywordtype">float</span> v[4];
00075         
00076         <span class="keyword">public</span>:
00077         
<a name="l00084"></a><a class="code" href="classCVector.html#CVectora3">00084</a>         <span class="keywordtype">void</span> <a class="code" href="classCVector.html#CVectora3">set</a>(<span class="keywordtype">float</span> x, <span class="keywordtype">float</span> y, <span class="keywordtype">float</span> z)
00085     {
00086                 v[0] = x;
00087                 v[1] = y;
00088                 v[2] = z;
00089         }
<a name="l00093"></a><a class="code" href="classCVector.html#CVectora4">00093</a>         <span class="keywordtype">float</span> <a class="code" href="classCVector.html#CVectora4">size</a>()
00094     {
00095                 <span class="keywordflow">return</span> sqrt(v[0] * v[0] + v[1] * v[1] + v[2] * v[2]);
00096         }  
<a name="l00101"></a><a class="code" href="classCVector.html#CVectora5">00101</a>         <span class="keywordtype">float</span> <a class="code" href="classCVector.html#CVectora5">size2</a>()
00102     {
00103                 <span class="keywordflow">return</span> v[0] * v[0] + v[1] * v[1] + v[2] * v[2];
00104         }
<a name="l00109"></a><a class="code" href="classCVector.html#CVectora6">00109</a>         <span class="keywordtype">void</span> <a class="code" href="classCVector.html#CVectora6">normalize</a>()
00110     {
00111                 <span class="keywordtype">float</span> <a class="code" href="classCVector.html#CVectora4">size</a> = sqrt(v[0] * v[0] + v[1] * v[1] + v[2] * v[2]);
00112                 MASSERT(size != 0.0);           
00113                 <span class="keywordflow">if</span> (size == 0.0)
00114                 {
00115                         v[0] = 1.0;
00116                         v[1] = 0.0;
00117                         v[2] = 0.0;
00118                         <span class="keywordflow">return</span>;
00119                 }
00120                 <span class="keywordtype">float</span> isize = 1.0f / size;
00121                 v[0] *= isize;
00122                 v[1] *= isize;
00123                 v[2] *= isize;                  
00124         }
<a name="l00130"></a><a class="code" href="classCVector.html#CVectora7">00130</a>         <a class="code" href="classCVector.html">CVector</a> <a class="code" href="classCVector.html#CVectora7">MA</a>(<a class="code" href="classCVector.html">CVector</a>&amp; vector, <span class="keywordtype">float</span> scale)
00131     {
00132                 <a class="code" href="classCVector.html">CVector</a> tmp;
00133                 tmp.<a class="code" href="classCVector.html#CVectoro0">v</a>[0] = v[0] + scale * vector.<a class="code" href="classCVector.html#CVectoro0">v</a>[0];
00134                 tmp.<a class="code" href="classCVector.html#CVectoro0">v</a>[1] = v[1] + scale * vector.<a class="code" href="classCVector.html#CVectoro0">v</a>[1];
00135                 tmp.<a class="code" href="classCVector.html#CVectoro0">v</a>[2] = v[2] + scale * vector.<a class="code" href="classCVector.html#CVectoro0">v</a>[2];
00136                 <span class="keywordflow">return</span> tmp;
00137         }
00138 
00139     <span class="keyword">public</span>:
00140     
<a name="l00144"></a><a class="code" href="classCVector.html#CVectora8">00144</a>         <span class="keywordtype">void</span> <a class="code" href="classCVector.html#CVectora8">operator=</a>(<a class="code" href="classCVector.html">CVector</a> vector)
00145     {
00146                 v[0] = vector.<a class="code" href="classCVector.html#CVectoro0">v</a>[0];
00147                 v[1] = vector.<a class="code" href="classCVector.html#CVectoro0">v</a>[1];
00148                 v[2] = vector.<a class="code" href="classCVector.html#CVectoro0">v</a>[2];             
00149         }
<a name="l00153"></a><a class="code" href="classCVector.html#CVectora9">00153</a>         <a class="code" href="classCVector.html">CVector</a> <a class="code" href="classCVector.html#CVectora17">operator-</a>(<a class="code" href="classCVector.html">CVector</a> vector)
00154     {
00155                 <a class="code" href="classCVector.html">CVector</a> tmp;
00156                 tmp.<a class="code" href="classCVector.html#CVectoro0">v</a>[0] = v[0] - vector.<a class="code" href="classCVector.html#CVectoro0">v</a>[0];
00157                 tmp.<a class="code" href="classCVector.html#CVectoro0">v</a>[1] = v[1] - vector.<a class="code" href="classCVector.html#CVectoro0">v</a>[1];
00158                 tmp.<a class="code" href="classCVector.html#CVectoro0">v</a>[2] = v[2] - vector.<a class="code" href="classCVector.html#CVectoro0">v</a>[2];                  
00159                 <span class="keywordflow">return</span> tmp;
00160         } 
<a name="l00164"></a><a class="code" href="classCVector.html#CVectora10">00164</a>         <a class="code" href="classCVector.html">CVector</a> <a class="code" href="classCVector.html#CVectora10">operator+</a>(<a class="code" href="classCVector.html">CVector</a> vector)
00165     {
00166                 <a class="code" href="classCVector.html">CVector</a> tmp;
00167                 tmp.<a class="code" href="classCVector.html#CVectoro0">v</a>[0] = v[0] + vector.<a class="code" href="classCVector.html#CVectoro0">v</a>[0];
00168                 tmp.<a class="code" href="classCVector.html#CVectoro0">v</a>[1] = v[1] + vector.<a class="code" href="classCVector.html#CVectoro0">v</a>[1];
00169                 tmp.<a class="code" href="classCVector.html#CVectoro0">v</a>[2] = v[2] + vector.<a class="code" href="classCVector.html#CVectoro0">v</a>[2];                  
00170                 <span class="keywordflow">return</span> tmp;
00171         }
<a name="l00175"></a><a class="code" href="classCVector.html#CVectora11">00175</a>         <a class="code" href="classCVector.html">CVector</a>&amp; <a class="code" href="classCVector.html#CVectora11">operator-=</a>(<a class="code" href="classCVector.html">CVector</a>&amp; vector)
00176     {
00177                 v[0] -= vector.<a class="code" href="classCVector.html#CVectoro0">v</a>[0];
00178                 v[1] -= vector.<a class="code" href="classCVector.html#CVectoro0">v</a>[1];
00179                 v[2] -= vector.<a class="code" href="classCVector.html#CVectoro0">v</a>[2];            
00180                 <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00181         }
<a name="l00185"></a><a class="code" href="classCVector.html#CVectora12">00185</a>         <a class="code" href="classCVector.html">CVector</a>&amp; <a class="code" href="classCVector.html#CVectora12">operator+=</a>(<a class="code" href="classCVector.html">CVector</a>&amp; vector)
00186     {
00187                 v[0] += vector.<a class="code" href="classCVector.html#CVectoro0">v</a>[0];
00188                 v[1] += vector.<a class="code" href="classCVector.html#CVectoro0">v</a>[1];
00189                 v[2] += vector.<a class="code" href="classCVector.html#CVectoro0">v</a>[2];            
00190                 <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00191         }
<a name="l00195"></a><a class="code" href="classCVector.html#CVectora13">00195</a>         <a class="code" href="classCVector.html">CVector</a> <a class="code" href="classCVector.html#CVectora13">operator*</a>(<span class="keywordtype">float</span> scale)
00196     {
00197                 <a class="code" href="classCVector.html">CVector</a> tmp;
00198                 tmp.<a class="code" href="classCVector.html#CVectoro0">v</a>[0] = v[0] * scale;
00199                 tmp.<a class="code" href="classCVector.html#CVectoro0">v</a>[1] = v[1] * scale;
00200                 tmp.<a class="code" href="classCVector.html#CVectoro0">v</a>[2] = v[2] * scale;
00201                 <span class="keywordflow">return</span> tmp;             
00202         }
<a name="l00206"></a><a class="code" href="classCVector.html#CVectora14">00206</a>         <a class="code" href="classCVector.html">CVector</a> <a class="code" href="classCVector.html#CVectora14">operator/</a>(<span class="keywordtype">float</span> scale)
00207     {
00208         MASSERT(scale != 0.0);
00209                 <a class="code" href="classCVector.html">CVector</a> tmp;
00210                 tmp.<a class="code" href="classCVector.html#CVectoro0">v</a>[0] = v[0] / scale;
00211                 tmp.<a class="code" href="classCVector.html#CVectoro0">v</a>[1] = v[1] / scale;
00212                 tmp.<a class="code" href="classCVector.html#CVectoro0">v</a>[2] = v[2] / scale;
00213                 <span class="keywordflow">return</span> tmp;             
00214         }
<a name="l00218"></a><a class="code" href="classCVector.html#CVectora15">00218</a>         <a class="code" href="classCVector.html">CVector</a>&amp; <a class="code" href="classCVector.html#CVectora15">operator*=</a>(<span class="keywordtype">float</span> scale)
00219     {
00220                 v[0] = v[0] * scale;
00221                 v[1] = v[1] * scale;
00222                 v[2] = v[2] * scale;
00223                 <span class="keywordflow">return</span> *<span class="keyword">this</span>;           
00224         }
<a name="l00228"></a><a class="code" href="classCVector.html#CVectora16">00228</a>         <a class="code" href="classCVector.html">CVector</a>&amp; <a class="code" href="classCVector.html#CVectora16">operator/=</a>(<span class="keywordtype">float</span> scale)
00229     {
00230                 MASSERT(scale != 0.0);  
00231                 <span class="keywordtype">float</span> iscale = 1.0f / scale;
00232                 v[0] = v[0] * iscale;
00233                 v[1] = v[1] * iscale;
00234                 v[2] = v[2] * iscale;
00235                 <span class="keywordflow">return</span> *<span class="keyword">this</span>;           
00236         }
<a name="l00240"></a><a class="code" href="classCVector.html#CVectora17">00240</a>         <a class="code" href="classCVector.html">CVector</a> <a class="code" href="classCVector.html#CVectora17">operator-</a>()
00241     {
00242                 <a class="code" href="classCVector.html">CVector</a> tmp;
00243                 tmp.<a class="code" href="classCVector.html#CVectoro0">v</a>[0] = -v[0];
00244                 tmp.<a class="code" href="classCVector.html#CVectoro0">v</a>[1] = -v[1];
00245                 tmp.<a class="code" href="classCVector.html#CVectoro0">v</a>[2] = -v[2];               
00246                 <span class="keywordflow">return</span> tmp;
00247         }
<a name="l00252"></a><a class="code" href="classCVector.html#CVectora18">00252</a>         <span class="keywordtype">float</span> <a class="code" href="classCVector.html#CVectora13">operator*</a>(<a class="code" href="classCVector.html">CVector</a>&amp; vector)
00253     {
00254 
00255                 <span class="keywordflow">return</span> v[0] * vector.<a class="code" href="classCVector.html#CVectoro0">v</a>[0] + v[1] * vector.<a class="code" href="classCVector.html#CVectoro0">v</a>[1] + v[2] * vector.<a class="code" href="classCVector.html#CVectoro0">v</a>[2];
00256                 
00257         }
<a name="l00262"></a><a class="code" href="classCVector.html#CVectora19">00262</a>         <a class="code" href="classCVector.html">CVector</a> <a class="code" href="classCVector.html#CVectora19">operator%</a>(<a class="code" href="classCVector.html">CVector</a>&amp; vector)
00263     {
00264                 <a class="code" href="classCVector.html">CVector</a> tmp;
00265                 tmp.<a class="code" href="classCVector.html#CVectoro0">v</a>[0] = v[1] * vector.<a class="code" href="classCVector.html#CVectoro0">v</a>[2] - v[2] * vector.<a class="code" href="classCVector.html#CVectoro0">v</a>[1];
00266                 tmp.<a class="code" href="classCVector.html#CVectoro0">v</a>[1] = v[2] * vector.<a class="code" href="classCVector.html#CVectoro0">v</a>[0] - v[0] * vector.<a class="code" href="classCVector.html#CVectoro0">v</a>[2];
00267                 tmp.<a class="code" href="classCVector.html#CVectoro0">v</a>[2] = v[0] * vector.<a class="code" href="classCVector.html#CVectoro0">v</a>[1] - v[1] * vector.<a class="code" href="classCVector.html#CVectoro0">v</a>[0];
00268                 <span class="keywordflow">return</span> tmp;
00269         }
<a name="l00273"></a><a class="code" href="classCVector.html#CVectora20">00273</a>         <a class="code" href="classCVector.html">CVector</a> <a class="code" href="classCVector.html#CVectora20">operator|</a>(<a class="code" href="classCVector.html">CVector</a>&amp; vector)
00274     {
00275                 <a class="code" href="classCVector.html">CVector</a> tmp;
00276                 tmp.<a class="code" href="classCVector.html#CVectoro0">v</a>[0] = v[0] * vector.<a class="code" href="classCVector.html#CVectoro0">v</a>[0];
00277                 tmp.<a class="code" href="classCVector.html#CVectoro0">v</a>[1] = v[1] * vector.<a class="code" href="classCVector.html#CVectoro0">v</a>[1];
00278                 tmp.<a class="code" href="classCVector.html#CVectoro0">v</a>[2] = v[2] * vector.<a class="code" href="classCVector.html#CVectoro0">v</a>[2];                  
00279                 <span class="keywordflow">return</span> tmp;
00280         }
<a name="l00284"></a><a class="code" href="classCVector.html#CVectora21">00284</a>         <span class="keywordtype">float</span>&amp; <a class="code" href="classCVector.html#CVectora21">operator[]</a>(<span class="keywordtype">int</span> index)
00285     {
00286         MASSERT(index &gt;= 0 &amp;&amp; index &lt;= 3);
00287                 <span class="keywordflow">return</span> v[index];
00288         }
<a name="l00292"></a><a class="code" href="classCVector.html#CVectora22">00292</a>         <a class="code" href="classCVector.html#CVectora22">operator float*</a>()
00293     {
00294                 <span class="keywordflow">return</span> v;
00295         }
<a name="l00299"></a><a class="code" href="classCVector.html#CVectora23">00299</a>         <span class="keywordtype">bool</span> <a class="code" href="classCVector.html#CVectora23">operator==</a>(<a class="code" href="classCVector.html">CVector</a>&amp; vector)
00300     {
00301 <span class="preprocessor">        #if 1</span>
00302 <span class="preprocessor"></span>                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 3; ++i)
00303         {
00304                         <span class="keywordflow">if</span> (v[i] != vector.v[i])
00305                                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
00306                 }
00307 <span class="preprocessor">                #else</span>
00308 <span class="preprocessor"></span>                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 3; ++i)
00309         {
00310                         <span class="keywordflow">if</span> (fabs(v[i] - vector.v[i]) &gt; 0.001)
00311                                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
00312                 }               
00313 <span class="preprocessor">                #endif</span>
00314 <span class="preprocessor"></span>                <span class="keywordflow">return</span> <span class="keyword">true</span>;
00315         }
<a name="l00319"></a><a class="code" href="classCVector.html#CVectora24">00319</a>         <span class="keywordtype">bool</span> <a class="code" href="classCVector.html#CVectora24">operator!=</a>(<a class="code" href="classCVector.html">CVector</a>&amp; vector)
00320     {
00321                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 3; ++i)
00322         {
00323                         <span class="keywordflow">if</span> (v[i] != vector.v[i])
00324                                 <span class="keywordflow">return</span> <span class="keyword">true</span>;
00325                 }
00326                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
00327         }
00328         
00329 };
00330 
00331 <span class="comment">//---------------------------------------------------------------------------</span>
00332 
00333 <span class="preprocessor">#endif</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Tue Feb 8 21:59:02 2005 for MarSTDv2004 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.1 </small></address>
</body>
</html>
