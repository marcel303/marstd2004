<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>MarSTDv2004: CBrush Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.1 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<h1>CBrush Class Reference</h1>Collaboration diagram for CBrush:<p><center><img src="classCBrush__coll__graph.png" border="0" usemap="#CBrush__coll__map" alt="Collaboration graph"></center>
<map name="CBrush__coll__map">
<area href="classCPlane.html" shape="rect" coords="9,101,76,128" alt="">
<area href="classCVector.html" shape="rect" coords="8,8,77,34" alt="">
</map>
<center><font size="2">[<a target="top" href="graph_legend.html">legend</a>]</font></center><a href="classCBrush-members.html">List of all members.</a><hr><a name="_details"></a><h2>Detailed Description</h2>
The brush class is used to define a convex volume enclosed by planes. The brush is defined by planes and can be converted to a mesh. Note the planes' normals must point outwards for a valid volume to be enclosed. Brushes can be added, subtracted and or-ed together using CSG. <div class="fragment"><pre class="fragment"><span class="comment">// Example:</span>

<span class="keywordtype">void</span> make_random_shape(<a class="code" href="classCMesh.html">CMesh</a>&amp; mesh, <span class="keywordtype">float</span> radius) {

        <span class="comment">// Probably not the most optimized way to do this. ;)</span>
        
        <a class="code" href="classCBrush.html">CBrush</a> brush;
        <a class="code" href="classCVector.html">CVector</a> origin; <span class="comment">// Origin = (0.0, 0.0, 0.0).</span>
        
        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 3; i++)
        {
        
                <a class="code" href="classCPlane.html">CPlane</a>* plane = brush.<a class="code" href="classCBrush.html#CBrusha2">add</a>(<span class="keyword">new</span> <a class="code" href="classCPlane.html">CPlane</a>);
                
                <span class="comment">// Make a random normal.</span>
                
                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; 3; j++)
                        plane-&gt;normal[j] = (rand() &amp; 1023) / 1023.0 - 0.5;
                        
                plane.normal.normalize();
                
                <span class="comment">// Offset plane from origin.</span>
                
                plane-&gt;distance = radius;               
                
                <span class="comment">// Make sure every plane's normal points away from origin.</span>
                
                if (plane * origin &gt; 0.0)
                        plane = - plane;
        
        }
        
        <span class="comment">// Convert brush to mesh, and move polygons to output mesh.</span>
        
        <a class="code" href="classCMesh.html">CMesh</a>* tmp = brush.mesh();
        
        tmp-&gt;move(mesh);
        
        delete tmp;

}
</pre></div> 
<p>

<p>
Definition at line <a class="el" href="CBrush_8h-source.html#l00072">72</a> of file <a class="el" href="CBrush_8h-source.html">CBrush.h</a>.<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="CBrusha2" doxytag="CBrush::add"></a>
<a class="el" href="classCPlane.html">CPlane</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><b>add</b> (<a class="el" href="classCPlane.html">CPlane</a> *plane)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="CBrusha3" doxytag="CBrush::addHead"></a>
<a class="el" href="classCPlane.html">CPlane</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><b>addHead</b> (<a class="el" href="classCPlane.html">CPlane</a> *plane)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="CBrusha4" doxytag="CBrush::addTail"></a>
<a class="el" href="classCPlane.html">CPlane</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><b>addTail</b> (<a class="el" href="classCPlane.html">CPlane</a> *plane)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="CBrusha5" doxytag="CBrush::remove"></a>
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>remove</b> (<a class="el" href="classCPlane.html">CPlane</a> *plane)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="CBrusha6" doxytag="CBrush::unlink"></a>
<a class="el" href="classCPlane.html">CPlane</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><b>unlink</b> (<a class="el" href="classCPlane.html">CPlane</a> *plane)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="CBrusha7" doxytag="CBrush::clear"></a>
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>clear</b> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="CBrusha8" doxytag="CBrush::convex"></a>
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCBrush.html#CBrusha8">convex</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns true if this is a convex brush. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classCPoly.html">CPoly</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCBrush.html#CBrusha9">initial</a> (<a class="el" href="classCPlane.html">CPlane</a> *plane)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classCPoly.html">CPoly</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCBrush.html#CBrusha10">poly</a> (<a class="el" href="classCPlane.html">CPlane</a> *plane)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classCMesh.html">CMesh</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCBrush.html#CBrusha11">mesh</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classCEdge.html">CEdge</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCBrush.html#CBrusha12">points</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="CBrusha13" doxytag="CBrush::copy"></a>
<a class="el" href="classCBrush.html">CBrush</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCBrush.html#CBrusha13">copy</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns a copy of the brush. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="CBrusha14" doxytag="CBrush::clip"></a>
<a class="el" href="classCBrush.html">CBrush</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCBrush.html#CBrusha14">clip</a> (<a class="el" href="classCPlane.html">CPlane</a> *plane)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Clips the brush, returning the resulting brush. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="CBrusha15" doxytag="CBrush::unlink"></a>
<a class="el" href="classCBrush.html">CBrush</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><b>unlink</b> ()</td></tr>

<tr><td colspan="2"><br><h2>Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="CBrusho0" doxytag="CBrush::planeHead"></a>
<a class="el" href="classCPlane.html">CPlane</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCBrush.html#CBrusho0">planeHead</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">First plane in DLL. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="CBrusho1" doxytag="CBrush::planeTail"></a>
<a class="el" href="classCPlane.html">CPlane</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCBrush.html#CBrusho1">planeTail</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Last plane in DLL. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="CBrusho2" doxytag="CBrush::planeCount"></a>
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCBrush.html#CBrusho2">planeCount</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Number of planes in DLL. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="CBrusho3" doxytag="CBrush::data"></a>
void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCBrush.html#CBrusho3">data</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Custom data field. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="CBrusho4" doxytag="CBrush::prev"></a>
<a class="el" href="classCBrush.html">CBrush</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><b>prev</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="CBrusho5" doxytag="CBrush::next"></a>
<a class="el" href="classCBrush.html">CBrush</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><b>next</b></td></tr>

</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="CBrusha9" doxytag="CBrush::initial"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classCPoly.html">CPoly</a>* CBrush::initial           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classCPlane.html">CPlane</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>plane</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Creates an "initial" polygon. An initial polygon is a polygon that has a very large size and lies on the specified plane. This "initial" polygon will be used further to clip against the brush's other planes to create one of the brush's side faces. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>plane</em>&nbsp;</td><td>The plane we will create the initial polygon for. Assumes the plane is normalized.</td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="CBrusha10" doxytag="CBrush::poly"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classCPoly.html">CPoly</a>* CBrush::poly           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classCPlane.html">CPlane</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>plane</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Creates a polygon (brush side) for the given plane. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>plane</em>&nbsp;</td><td>The plane we will create the brush side for. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="CBrusha11" doxytag="CBrush::mesh"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classCMesh.html">CMesh</a>* CBrush::mesh           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Convert the brush to a mesh.     </td>
  </tr>
</table>
<a class="anchor" name="CBrusha12" doxytag="CBrush::points"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classCEdge.html">CEdge</a>* CBrush::points           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Return the corner points of the brush converted to wireframe. This will NOT remove duplicate points.     </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="CBrush_8h-source.html">CBrush.h</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Tue Feb 8 21:59:30 2005 for MarSTDv2004 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.1 </small></address>
</body>
</html>
