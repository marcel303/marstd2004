<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>MarSTDv2004: CIsosurface Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.1 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<h1>CIsosurface Class Reference</h1>Collaboration diagram for CIsosurface:<p><center><img src="classCIsosurface__coll__graph.png" border="0" usemap="#CIsosurface__coll__map" alt="Collaboration graph"></center>
<map name="CIsosurface__coll__map">
<area href="structCIsosurfaceValue.html" shape="rect" coords="7,7,133,34" alt="">
</map>
<center><font size="2">[<a target="top" href="graph_legend.html">legend</a>]</font></center><a href="classCIsosurface-members.html">List of all members.</a><hr><a name="_details"></a><h2>Detailed Description</h2>
Use this class to visualize iso surfaces. Support has been added to calculate energy values for metaballs. The calculation of the generated triangles is done using the marching cubes algoritm. This algoritms is patented, so be carefull using it in a commercial product!<br>
 <div class="fragment"><pre class="fragment"><span class="comment">// Example:</span>

<span class="keywordtype">void</span> render() {

        load_camera();
        
        <span class="comment">// Create a medium sized iso surface.</span>
        <span class="keyword">static</span> <a class="code" href="classCIsosurface.html">CIsosurface</a> iso;
        iso.<a class="code" href="classCIsosurface.html#CIsosurfacea2">setSize</a>(10, 10, 10);

        <span class="comment">// Create a metaball.</span>
        <a class="code" href="classCIsosurfaceMetaball.html">CIsosurfaceMetaball</a> ball;
        ball.<a class="code" href="classCIsosurfaceMetaball.html#CIsosurfaceMetaballo0">p</a>[0] = sin(time);
        ball.<a class="code" href="classCIsosurfaceMetaball.html#CIsosurfaceMetaballo0">p</a>[1] = 0.0;
        ball.<a class="code" href="classCIsosurfaceMetaball.html#CIsosurfaceMetaballo0">p</a>[2] = cos(time);
        ball.<a class="code" href="classCIsosurfaceMetaball.html#CIsosurfaceMetaballo1">a</a> = 1.0;

        iso.<a class="code" href="classCIsosurface.html#CIsosurfacea3">calculate</a>(&amp;ball, 1);                <span class="comment">// Calculate energy values using metaballs.</span>
        iso.<a class="code" href="classCIsosurface.html#CIsosurfacea4">calculateNormals</a>();         <span class="comment">// Calculate normals.</span>

        <span class="comment">// Output triangles.    </span>
        
        <a class="code" href="structCIsosurfaceVertex.html">CIsosurfaceVertex</a> <a class="code" href="classCIsosurface.html#CIsosurfaceo0">v</a>[300];
        glVertexPointer(GL_FLOAT, 3, v, <span class="keyword">sizeof</span>(<a class="code" href="structCIsosurfaceVertex.html">CIsosurfaceVertex</a>));
        glEnableClientState(GL_NORMAL_ARRAY);
        glNormalPointer(GL_FLOAT, v, <span class="keyword">sizeof</span>(<a class="code" href="structCIsosurfaceVertex.html">CIsosurfaceVertex</a>));
        glEnableClientState(GL_VERTEX_ARRAY);   

        glBegin(GL_TRIANGLES); {        
                iso.<a class="code" href="classCIsosurface.html#CIsosurfacea5">output</a>(100, v, render_triangle);
        } glEnd();
        
}

<span class="keywordtype">void</span> render_triangle(<span class="keywordtype">int</span> triangles, <a class="code" href="structCIsosurfaceVertex.html">CIsosurfaceVertex</a>* v) {
        glDrawArrays(0, triangles*3);
}
</pre></div> 
<p>

<p>
Definition at line <a class="el" href="CIsosurface_8h-source.html#l00111">111</a> of file <a class="el" href="CIsosurface_8h-source.html">CIsosurface.h</a>.<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCIsosurface.html#CIsosurfacea2">setSize</a> (int sx, int sy, int <a class="el" href="classCIsosurface.html#CIsosurfaceo4">sz</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCIsosurface.html#CIsosurfacea3">calculate</a> (<a class="el" href="classCIsosurfaceMetaball.html">CIsosurfaceMetaball</a> *ball, int balls)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCIsosurface.html#CIsosurfacea4">calculateNormals</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCIsosurface.html#CIsosurfacea5">output</a> (void(*triangle)(<a class="el" href="structCIsosurfaceVertex.html">CIsosurfaceVertex</a> *<a class="el" href="classCIsosurface.html#CIsosurfaceo0">v</a>))</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCIsosurface.html#CIsosurfacea6">output</a> (int triangles, <a class="el" href="structCIsosurfaceVertex.html">CIsosurfaceVertex</a> *<a class="el" href="classCIsosurface.html#CIsosurfaceo0">v</a>, void(*triangle)(int num, <a class="el" href="structCIsosurfaceVertex.html">CIsosurfaceVertex</a> *<a class="el" href="classCIsosurface.html#CIsosurfaceo0">v</a>))</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCIsosurface.html#CIsosurfacea7">output</a> (<a class="el" href="classCMesh.html">CMesh</a> &amp;mesh)</td></tr>

<tr><td colspan="2"><br><h2>Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="CIsosurfaceo0" doxytag="CIsosurface::v"></a>
<a class="el" href="structCIsosurfaceValue.html">CIsosurfaceValue</a> ***&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCIsosurface.html#CIsosurfaceo0">v</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Energy values. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="CIsosurfaceo1" doxytag="CIsosurface::cube"></a>
CIsosurfaceCube ***&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCIsosurface.html#CIsosurfaceo1">cube</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Cube for marching cubes algo. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="CIsosurfaceo2" doxytag="CIsosurface::sx"></a>
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>sx</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="CIsosurfaceo3" doxytag="CIsosurface::sy"></a>
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>sy</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="CIsosurfaceo4" doxytag="CIsosurface::sz"></a>
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCIsosurface.html#CIsosurfaceo4">sz</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Size of the grid. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="CIsosurfaceo5" doxytag="CIsosurface::treshold"></a>
float&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCIsosurface.html#CIsosurfaceo5">treshold</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Isosurface border. If energy(x, y, z) &gt;= treshold, (x, y, z) is solid. <br></td></tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="CIsosurfacea2" doxytag="CIsosurface::setSize"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void CIsosurface::setSize           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap> <em>sx</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>sy</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>sz</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Sets the size of the grid. Passing (0, 0, 0) will free memory. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sx</em>&nbsp;</td><td>Resolution in x direction. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sy</em>&nbsp;</td><td>Resolution in y direction. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sz</em>&nbsp;</td><td>Resolution in z direction.</td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="CIsosurfacea3" doxytag="CIsosurface::calculate"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void CIsosurface::calculate           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classCIsosurfaceMetaball.html">CIsosurfaceMetaball</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>ball</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>balls</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Calculates energy values for a given number of mataballs. Note that you don't have to use this function to generate energy values. You can use all kinds of custom functions to do this. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ball</em>&nbsp;</td><td>Pointer to first ball in array. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>balls</em>&nbsp;</td><td>The size of the ball array.</td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="CIsosurfacea4" doxytag="CIsosurface::calculateNormals"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void CIsosurface::calculateNormals           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Call this just before <a class="el" href="classCIsosurface.html#CIsosurfacea5">output()</a> to have valid normal values if you need them.    </td>
  </tr>
</table>
<a class="anchor" name="CIsosurfacea5" doxytag="CIsosurface::output"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void CIsosurface::output           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void(*)(<a class="el" href="structCIsosurfaceVertex.html">CIsosurfaceVertex</a> *<a class="el" href="classCIsosurface.html#CIsosurfaceo0">v</a>)&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>triangle</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Spawns triangles. The callback function will be called for every triangle with three metavert_t structures. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>triangle</em>&nbsp;</td><td>Callback function that will be called for every generated triangle.</td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="CIsosurfacea6" doxytag="CIsosurface::output"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void CIsosurface::output           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap> <em>triangles</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structCIsosurfaceVertex.html">CIsosurfaceVertex</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>v</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>void(*)(int num, <a class="el" href="structCIsosurfaceVertex.html">CIsosurfaceVertex</a> *<a class="el" href="classCIsosurface.html#CIsosurfaceo0">v</a>)&nbsp;</td>
          <td class="mdname" nowrap> <em>triangle</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Spawns multiple triangles at once. Triangles is the maximum number of triangles to spawn at once. v must be an array of triangles*3 metavert_t structures. The callback function will be called with the number of triangles to render and a pointer to v. Triangles are stored 123.123.123. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>triangles</em>&nbsp;</td><td>The maximum number of triangles to output at once. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>v</em>&nbsp;</td><td>An array of vertices large enough to store triangles*3 vertices. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>triangle</em>&nbsp;</td><td>Callback function that will be called for multiple generated triangles.</td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="CIsosurfacea7" doxytag="CIsosurface::output"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void CIsosurface::output           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classCMesh.html">CMesh</a> &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>mesh</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Spawn triangles to a mesh. This method isn't recommended for real-time use. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mesh</em>&nbsp;</td><td>Mesh to output to.</td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="CIsosurface_8h-source.html">CIsosurface.h</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Tue Feb 8 21:59:38 2005 for MarSTDv2004 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.1 </small></address>
</body>
</html>
